{"version":3,"file":"points.directive.js","sourceRoot":"","sources":["../../../../../../../packages/core/points/src/lib/points/points.directive.ts"],"names":[],"mappings":"AAAA,OAAO,EAEL,6BAA6B,EAC7B,mBAAmB,EACnB,aAAa,EACb,aAAa,EACb,6BAA6B,GAC9B,MAAM,qBAAqB,CAAC;AAE7B,OAAO,EAAE,YAAY,EAAE,eAAe,EAAE,SAAS,EAAE,MAAM,eAAe,CAAC;AACzE,OAAO,EAAE,MAAM,EAAE,MAAM,OAAO,CAAC;;AAU/B,MAAM,OAAO,eAAgB,SAAQ,6BAAqC;IACxE,IAAoC,kBAAkB,CACpD,CAA2B;QAE3B,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,IAAI,CAAC,EAAE;YAC9B,IAAI,CAAC,QAAQ;gBACX,CAAC,CAAC,MAAM,KAAK,CAAC;oBACZ,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,QAAQ;oBAClB,CAAC,CAAC,CAAC,CAAC,OAAO,EAAE,CAAC,GAAG,CAAC,CAAC,GAAG,EAAE,EAAE,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;SAC9C;IACH,CAAC;IAED,IACI,uBAAuB,CAAC,CAAsB;QAChD,IAAI,IAAI,CAAC,QAAQ,IAAI,IAAI,EAAE;YACzB,IAAI,CAAC,QAAQ,GAAG,CAAC,CAAC,cAAc,CAAC;SAClC;IACH,CAAC;IAED,IAAI,UAAU;QACZ,OAAO,MAAM,CAAC;IAChB,CAAC;;6GArBU,eAAe;iGAAf,eAAe,qCALf;QACT,EAAE,OAAO,EAAE,aAAa,EAAE,WAAW,EAAE,eAAe,EAAE;QACxD,6BAA6B;KAC9B,+EAca,mBAAmB,wEAXhB,aAAa;4FADnB,eAAe;kBAR3B,SAAS;mBAAC;oBACT,QAAQ,EAAE,YAAY;oBACtB,QAAQ,EAAE,WAAW;oBACrB,SAAS,EAAE;wBACT,EAAE,OAAO,EAAE,aAAa,EAAE,WAAW,iBAAiB,EAAE;wBACxD,6BAA6B;qBAC9B;iBACF;8BAEqC,kBAAkB;sBAArD,eAAe;uBAAC,aAAa;gBAY1B,uBAAuB;sBAD1B,YAAY;uBAAC,mBAAmB","sourcesContent":["import {\n  AnyConstructor,\n  OBJECT_3D_CONTROLLER_PROVIDER,\n  ThreeBufferGeometry,\n  ThreeMaterial,\n  ThreeObject3d,\n  ThreeObject3dMaterialGeometry,\n} from '@angular-three/core';\nimport type { QueryList } from '@angular/core';\nimport { ContentChild, ContentChildren, Directive } from '@angular/core';\nimport { Points } from 'three';\n\n@Directive({\n  selector: 'ngt-points',\n  exportAs: 'ngtPoints',\n  providers: [\n    { provide: ThreeObject3d, useExisting: PointsDirective },\n    OBJECT_3D_CONTROLLER_PROVIDER,\n  ],\n})\nexport class PointsDirective extends ThreeObject3dMaterialGeometry<Points> {\n  @ContentChildren(ThreeMaterial) set materialDirectives(\n    v: QueryList<ThreeMaterial>\n  ) {\n    if (this.material == null && v) {\n      this.material =\n        v.length === 1\n          ? v.first.material\n          : v.toArray().map((dir) => dir.material);\n    }\n  }\n\n  @ContentChild(ThreeBufferGeometry)\n  set bufferGeometryDirective(v: ThreeBufferGeometry) {\n    if (this.geometry == null) {\n      this.geometry = v.bufferGeometry;\n    }\n  }\n\n  get objectType(): AnyConstructor<Points> {\n    return Points;\n  }\n}\n"]}