{"version":3,"file":"helper.abstract.js","sourceRoot":"","sources":["../../../../../../packages/core/src/lib/abstracts/helper.abstract.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,SAAS,EAAqB,MAAM,eAAe,CAAC;AAG7D,OAAO,EAAE,aAAa,EAAE,MAAM,sBAAsB,CAAC;;AAGrD,MAAM,OAAgB,WACpB,SAAQ,aAAsB;IAFhC;;QAOU,eAAU,GAAc,EAAE,CAAC;QAgBnC,uBAAkB,GAAG,GAAG,EAAE;YACxB,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE;gBAClB,IAAI,CAAC,IAAI,EAAE,CAAC;aACb;QACH,CAAC,CAAC;KAiBH;IAjCC,IAAc,SAAS,CAAC,CAAY;QAClC,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC;QACpB,IAAI,CAAC,MAAM,CAAC,iBAAiB,CAAC,GAAG,EAAE;YACjC,IAAI,CAAC,IAAI,EAAE,CAAC;QACd,CAAC,CAAC,CAAC;IACL,CAAC;IAED,WAAW;QACT,KAAK,CAAC,WAAW,EAAE,CAAC;QACpB,IAAI,CAAC,kBAAkB,EAAE,CAAC;IAC5B,CAAC;IAQD,QAAQ;QACN,IAAI,CAAC,kBAAkB,EAAE,CAAC;IAC5B,CAAC;IAES,UAAU;QAClB,IAAI;YACF,IAAI,CAAC,OAAO,GAAG,IAAI,IAAI,CAAC,UAAU,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC;SACxD;QAAC,OAAO,CAAC,EAAE;YACV,OAAO,CAAC,GAAG,CAAC,6BAA6B,CAAC,CAAC;SAC5C;IACH,CAAC;IAED,IAAI,QAAQ;QACV,OAAO,IAAI,CAAC,OAAO,CAAC;IACtB,CAAC;;yGA1CmB,WAAW;6FAAX,WAAW;4FAAX,WAAW;kBADhC,SAAS","sourcesContent":["import { Directive, OnChanges, OnInit } from '@angular/core';\nimport { Object3D } from 'three';\nimport type { AnyConstructor } from '../typings';\nimport { ThreeObject3d } from './object-3d.abstract';\n\n@Directive()\nexport abstract class ThreeHelper<THelper extends Object3D>\n  extends ThreeObject3d<THelper>\n  implements OnInit, OnChanges\n{\n  abstract helperType: AnyConstructor<THelper>;\n\n  private _extraArgs: unknown[] = [];\n\n  private _helper!: THelper;\n\n  protected set extraArgs(v: unknown[]) {\n    this._extraArgs = v;\n    this.ngZone.runOutsideAngular(() => {\n      this.init();\n    });\n  }\n\n  ngOnChanges() {\n    super.ngOnChanges();\n    this.inputChangeHandler();\n  }\n\n  inputChangeHandler = () => {\n    if (!this.object3d) {\n      this.init();\n    }\n  };\n\n  ngOnInit() {\n    this.inputChangeHandler();\n  }\n\n  protected initObject() {\n    try {\n      this._helper = new this.helperType(...this._extraArgs);\n    } catch (e) {\n      console.log('Failed to initialize Helper');\n    }\n  }\n\n  get object3d(): THelper {\n    return this._helper;\n  }\n}\n"]}