{"version":3,"file":"sprite.abstract.js","sourceRoot":"","sources":["../../../../../../packages/core/src/lib/abstracts/sprite.abstract.ts"],"names":[],"mappings":"AAAA,OAAO,EAEL,YAAY,EACZ,SAAS,EACT,KAAK,GACN,MAAM,eAAe,CAAC;AACvB,OAAO,EAAU,cAAc,EAAE,MAAM,OAAO,CAAC;AAE/C,OAAO,EAAE,aAAa,EAAE,MAAM,qBAAqB,CAAC;AACpD,OAAO,EAAE,aAAa,EAAE,MAAM,sBAAsB,CAAC;;AAGrD,MAAM,OAAgB,WACpB,SAAQ,aAAsB;IAW9B,kBAAkB;QAChB,IAAI,CAAC,IAAI,EAAE,CAAC;IACd,CAAC;IAES,UAAU;QAClB,IAAI,IAAI,CAAC,QAAQ,EAAE;YACjB,IAAI,CAAC,OAAO,GAAG,IAAI,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YAClD,OAAO;SACR;QAED,IAAI,IAAI,CAAC,iBAAiB,EAAE;YAC1B,IAAI,IAAI,CAAC,iBAAiB,CAAC,QAAQ,YAAY,cAAc,EAAE;gBAC7D,IAAI,CAAC,OAAO,GAAG,IAAI,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,iBAAiB,CAAC,QAAQ,CAAC,CAAC;gBACpE,OAAO;aACR;YAED,OAAO,CAAC,IAAI,CAAC,qDAAqD,CAAC,CAAC;SACrE;IACH,CAAC;IAED,IAAI,QAAQ;QACV,OAAO,IAAI,CAAC,OAAO,CAAC;IACtB,CAAC;;yGAlCmB,WAAW;6FAAX,WAAW,2GAMjB,aAAa;4FANP,WAAW;kBADhC,SAAS;8BAKC,QAAQ;sBAAhB,KAAK;gBAEuB,iBAAiB;sBAA7C,YAAY;uBAAC,aAAa","sourcesContent":["import {\n  AfterContentInit,\n  ContentChild,\n  Directive,\n  Input,\n} from '@angular/core';\nimport { Sprite, SpriteMaterial } from 'three';\nimport { AnyConstructor } from '../typings';\nimport { ThreeMaterial } from './material.abstract';\nimport { ThreeObject3d } from './object-3d.abstract';\n\n@Directive()\nexport abstract class ThreeSprite<TSprite extends Sprite = Sprite>\n  extends ThreeObject3d<TSprite>\n  implements AfterContentInit\n{\n  @Input() material?: SpriteMaterial;\n\n  @ContentChild(ThreeMaterial) materialDirective?: ThreeMaterial;\n\n  abstract spriteType: AnyConstructor<TSprite>;\n\n  private _sprite!: TSprite;\n\n  ngAfterContentInit() {\n    this.init();\n  }\n\n  protected initObject() {\n    if (this.material) {\n      this._sprite = new this.spriteType(this.material);\n      return;\n    }\n\n    if (this.materialDirective) {\n      if (this.materialDirective.material instanceof SpriteMaterial) {\n        this._sprite = new this.spriteType(this.materialDirective.material);\n        return;\n      }\n\n      console.warn(`Sprite can only be instantiated with SpriteMaterial`);\n    }\n  }\n\n  get object3d(): TSprite {\n    return this._sprite;\n  }\n}\n"]}