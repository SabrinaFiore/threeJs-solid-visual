{"version":3,"file":"light.abstract.js","sourceRoot":"","sources":["../../../../../../packages/core/src/lib/abstracts/light.abstract.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,SAAS,EAAE,KAAK,EAAU,MAAM,eAAe,CAAC;AAGzD,OAAO,EAAE,aAAa,EAAE,MAAM,sBAAsB,CAAC;;AAGrD,MAAM,OAAgB,UACpB,SAAQ,aAAqB;IAF/B;;QASU,eAAU,GAAc,EAAE,CAAC;KA0BpC;IAzBC,IAAc,SAAS,CAAC,CAAY;QAClC,IAAI,CAAC,UAAU,GAAG,CAAC,CAAC;QACpB,IAAI,CAAC,MAAM,CAAC,iBAAiB,CAAC,GAAG,EAAE;YACjC,IAAI,CAAC,IAAI,EAAE,CAAC;QACd,CAAC,CAAC,CAAC;IACL,CAAC;IAID,QAAQ;QACN,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE;YAClB,IAAI,CAAC,IAAI,EAAE,CAAC;SACb;IACH,CAAC;IAES,UAAU;QAClB,IAAI,IAAI,CAAC,SAAS,EAAE;YAClB,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC;SACrC;QACD,IAAI,CAAC,MAAM,GAAG,IAAI,IAAI,CAAC,SAAS,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC;IACvD,CAAC;IAED,IAAI,QAAQ;QACV,OAAO,IAAI,CAAC,MAAM,CAAC;IACrB,CAAC;;wGAjCmB,UAAU;4FAAV,UAAU;4FAAV,UAAU;kBAD/B,SAAS;8BAOC,SAAS;sBAAjB,KAAK","sourcesContent":["import { Directive, Input, OnInit } from '@angular/core';\nimport { Light } from 'three';\nimport type { AnyConstructor } from '../typings';\nimport { ThreeObject3d } from './object-3d.abstract';\n\n@Directive()\nexport abstract class ThreeLight<TLight extends Light = Light>\n  extends ThreeObject3d<TLight>\n  implements OnInit\n{\n  abstract lightType: AnyConstructor<TLight>;\n\n  @Input() intensity?: number;\n\n  private _extraArgs: unknown[] = [];\n  protected set extraArgs(v: unknown[]) {\n    this._extraArgs = v;\n    this.ngZone.runOutsideAngular(() => {\n      this.init();\n    });\n  }\n\n  private _light!: TLight;\n\n  ngOnInit() {\n    if (!this.object3d) {\n      this.init();\n    }\n  }\n\n  protected initObject() {\n    if (this.intensity) {\n      this._extraArgs[1] = this.intensity;\n    }\n    this._light = new this.lightType(...this._extraArgs);\n  }\n\n  get object3d(): TLight {\n    return this._light;\n  }\n}\n"]}